version: "3.9"

services:
  vite:
    container_name: mytlu_vite_dev
    build:
      context: .
      dockerfile: MyTLUWebsite/docker/vite/Dockerfile
    ports:
      - "5173:5173"
    volumes:
      - ./MyTLUWebsite/MyTLU_Frontend:/var/www

  laravel:
    container_name: mytlu_laravel_dev
    build:
      context: .
      dockerfile: MyTLUWebsite/docker/laravel/Dockerfile
    ports:
      - "8080:8000"
    volumes:
      - ./MyTLUWebsite/MyTLU_Frontend:/var/www
    environment:
      VITE_DEV_SERVER_URL: http://remote.thanglele.cloud:5173

  # ==========================
  # 2Ô∏è‚É£ AI Service
  # ==========================
  # mytlu-ai:

  #   build:
  #     context: ./face-ai-service
  #     dockerfile: Dockerfile
  #   ports:
  #     - "5001:5001"
  #   restart: always
  #   networks:
  #     - mytlu_network

  # ==========================
  # 3Ô∏è‚É£ SQL Server
  # ==========================
  sql-server-db:
    image: mcr.microsoft.com/mssql/server:2022-latest
    container_name: mssql_server_dev
    environment:
      - ACCEPT_EULA=Y
      - SA_PASSWORD="YourStrong@Passw0rd"
      - MSSQL_PID=Developer
    ports:
      - "1433:1433"
    volumes:
      - sql-server-data:/var/opt/mssql
    restart: always
    networks:
      - mytlu_network

# ==========================
# üîó Networks & Volumes
# ==========================
networks:
  mytlu_network:
    driver: bridge

volumes:
  sql-server-data:
    driver: local
